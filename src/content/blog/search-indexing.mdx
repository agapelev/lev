---
title: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ Algolia
description: –ö–∞–∫ –∑–∞–≥—Ä—É–∑–∏—Ç—å Markdown-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ Algolia –¥–ª—è –ø–æ–∏—Å–∫–∞
tags: [algolia, –ø–æ–∏—Å–∫, –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è, markdown, nextjs]
pubDate: "Jun 01 2024"
heroImage: "/blog-placeholder-5.jpg"
---


## üîß –¶–µ–ª—å

–ü–æ–¥–∫–ª—é—á–∏—Ç—å Algolia –∫ –º–∏—Å—Å–∏–æ–Ω–µ—Ä—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ `.md`-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–∑ `content/pages` –∏ `content/pages/blog` –≤ –∏–Ω–¥–µ–∫—Å `dev_MISSION`.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

–ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã –ª–µ–∂–∞—Ç –≤:

- `content/pages/*.md`
- `content/pages/blog/*.md`

–ö–∞–∂–¥—ã–π —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç `title`, `slug`, `body` –≤ —Ñ–æ—Ä–º–∞—Ç–µ frontmatter + markdown.

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install algoliasearch gray-matter dotenv

üìÑ .env.local
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env.local –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

NEXT_PUBLIC_ALGOLIA_APP_ID=05T6TELL9R
NEXT_PUBLIC_ALGOLIA_INDEX_NAME=dev_MISSION
NEXT_PUBLIC_ALGOLIA_SEARCH_API_KEY=6f70ce3406e8f713c6e51fe2ad5e988a
ALGOLIA_ADMIN_KEY=052d30a03559db6b41f1241999d140cc

üìú –°–∫—Ä–∏–ø—Ç scripts/index-to-algolia.js

import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import fs from 'fs';
import path from 'path';
import matter from 'gray-matter';
import algoliasearch from 'algoliasearch';

const client = algoliasearch(
  process.env.NEXT_PUBLIC_ALGOLIA_APP_ID,
  process.env.ALGOLIA_ADMIN_KEY
);

const index = client.initIndex(process.env.NEXT_PUBLIC_ALGOLIA_INDEX_NAME);

const contentDirs = [
  path.join(process.cwd(), 'content/pages'),
  path.join(process.cwd(), 'content/pages/blog'),
  path.join(process.cwd(), 'content/pages/guides')
];

function collectMarkdownFiles(dirs) {
  const files = [];
  for (const dir of dirs) {
    if (!fs.existsSync(dir)) continue;
    for (const file of fs.readdirSync(dir)) {
      if (file.endsWith('.md')) {
        files.push(path.join(dir, file));
      }
    }
  }
  return files;
}

async function run() {
  const files = collectMarkdownFiles(contentDirs);
  const records = [];

  for (const filePath of files) {
    const raw = fs.readFileSync(filePath, 'utf-8');
    const { data, content } = matter(raw);

    const slug = data.slug || path.basename(filePath).replace(/\.md$/, '');
    const title = data.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è';

    records.push({
      objectID: slug,
      title,
      content,
      slug,
      author: data.author || null,
      tags: data.tags || [],
      date: data.date || null
    });
  }

  try {
    await index.saveObjects(records);
    console.log(`‚úÖ Indexed ${records.length} records to Algolia`);
  } catch (error) {
    console.error('‚ùå Error indexing to Algolia:', error);
  }
}

run();

‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

bash
node scripts/index-to-algolia.js

–ó–∞–ø–∏—Å–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ –ø–∞–Ω–µ–ª–∏ Browse

üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Netlify
–î–æ–±–∞–≤—å—Ç–µ –≤ netlify.toml:

[build]
command = "npm run build && node scripts/index-to-algolia.js"

