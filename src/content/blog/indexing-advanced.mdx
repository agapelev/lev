
---
title: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ Algolia
description: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –∏ –ø–æ–ª–µ–π –¥–ª—è –ø–æ–∏—Å–∫–∞
tags: [algolia, –ø–æ–∏—Å–∫, –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è, nextjs, —Ñ–∏–ª—å—Ç—Ä—ã, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞]
---

## üß† –¶–µ–ª—å

–†–∞—Å—à–∏—Ä–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏, —á—Ç–æ–±—ã –æ–Ω:

- –ü–æ–¥–∫–ª—é—á–∞–ª –Ω–æ–≤—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –≤–∫–ª—é—á–∞—è `content/pages/guides`
- –ó–∞–≥—Ä—É–∂–∞–ª –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: `author`, `tags`, `date`
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª —Ç–æ–ª—å–∫–æ `.md`-—Ñ–∞–π–ª—ã
- –ó–∞—â–∏—â–∞–ª—Å—è –æ—Ç –æ—à–∏–±–æ–∫ YAML
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –≤ Algolia

---

## üìÅ –ü–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

```txt
content/pages/
content/pages/blog/
content/pages/guides/

üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø–∏—Å–∏
–ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å, –∑–∞–≥—Ä—É–∂–∞–µ–º–∞—è –≤ Algolia, —Å–æ–¥–µ—Ä–∂–∏—Ç:

json:
{
  "objectID": "slug",
  "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫",
  "content": "–¢–µ–ª–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã",
  "slug": "mission-page",
  "author": "–õ–µ–≤ –ù–∏–∫–æ–ª–∞–µ–≤–∏—á",
  "tags": ["–º–∏—Å—Å–∏—è", "–¥—É—Ö–æ–≤–Ω–æ—Å—Ç—å"],
  "date": "2025-10-17"
}

‚öôÔ∏è –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç index-to-algolia.js

import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import fs from 'fs';
import path from 'path';
import matter from 'gray-matter';
import algoliasearch from 'algoliasearch';

const client = algoliasearch(
  process.env.NEXT_PUBLIC_ALGOLIA_APP_ID,
  process.env.ALGOLIA_ADMIN_KEY
);

const index = client.initIndex(process.env.NEXT_PUBLIC_ALGOLIA_INDEX_NAME);

const contentDirs = [
  path.join(process.cwd(), 'content/pages'),
  path.join(process.cwd(), 'content/pages/blog'),
  path.join(process.cwd(), 'content/pages/guides')
];

function collectMarkdownFiles(dirs) {
  const files = [];
  for (const dir of dirs) {
    if (!fs.existsSync(dir)) continue;
    for (const file of fs.readdirSync(dir)) {
      if (file.endsWith('.md')) {
        files.push(path.join(dir, file));
      }
    }
  }
  return files;
}

async function run() {
  const files = collectMarkdownFiles(contentDirs);
  const records = [];

  for (const filePath of files) {
    console.log('üìÑ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª:', filePath);

    const raw = fs.readFileSync(filePath, 'utf-8');

    let data, content;
    try {
      const parsed = matter(raw);
      data = parsed.data;
      content = parsed.content;
    } catch (error) {
      console.warn(`‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ frontmatter –≤ —Ñ–∞–π–ª–µ ${filePath}:`, error.message);
      continue;
    }

    const slug = data.slug || path.basename(filePath).replace(/\.md$/, '');
    const title = data.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è';

    records.push({
      objectID: slug,
      title,
      content,
      slug,
      author: data.author || null,
      tags: data.tags || [],
      date: data.date || null
    });
  }

  try {
    await index.saveObjects(records);
    console.log(`‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${records.length} –∑–∞–ø–∏—Å–µ–π –≤ Algolia`);
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤ Algolia:', error);
  }
}

run();

üîç –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
–í –ø–∞–Ω–µ–ª–∏ Algolia:

–í–∫–ª—é—á–∏—Ç–µ author, tags, date –∫–∞–∫ Attributes for faceting

–í–∫–ª—é—á–∏—Ç–µ date –∫–∞–∫ Sortable attribute

–ù–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ:

<RefinementList attribute="tags" />
<RefinementList attribute="author" />
<SortBy
  defaultRefinement="dev_MISSION"
  items={[
    { value: 'dev_MISSION', label: '–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é' },
    { value: 'dev_MISSION_date_desc', label: '–ù–æ–≤—ã–µ —Å–Ω–∞—á–∞–ª–∞' },
    { value: 'dev_MISSION_date_asc', label: '–°—Ç–∞—Ä—ã–µ —Å–Ω–∞—á–∞–ª–∞' }
  ]}
/>

